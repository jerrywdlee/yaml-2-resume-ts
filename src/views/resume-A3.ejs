<html lang="ja">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>履歴書</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.2/html2pdf.bundle.min.js"
      integrity="sha512-MpDFIChbcXl2QgipQrt1VcPHMldRILetapBl5MPCA9Y8r7qvlwx1/Mc9hNTzY+kS5kX6PdoDq41ws1HiVNLdZA=="
      crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <style>
      @media print {
        body {
          margin: 0;
          box-shadow: 0;
          page-break-inside: avoid;
        }
      }
      @page {
        size: A3 landscape;
      }
      html {
        font-size: 62.5%;
      }
      body {
        font-size: 10px;
        font-size: 1rem;
        position: relative;
        font-family: sans-serif;
      }
      body {
        background: white;
        display: block;
        margin: 0 auto;
      }
      body[size="A3"][layout="portrait"] {
        /*width: 1220px;
        height: 891px;*/
        /*width: 478px;*/
        /*height: 297mm;*/
        /*96dpi設定*/
        width: 1587px;
        height: 1122px;
        box-sizing: border-box;
      }
      #render-area {
        width: 100%;
        height: 100%;
      }
      tr {
        height: 32px;
      }
      td {
        padding: 0 5px;
      }

      .image {
        height: 170px;
        width: 162px;
      }
      .image img {
        width:auto;
        height:auto;
        max-width:100%;
        max-height:100%;
      }
      .name {
        font-size: 28px;
      }
      .history {
        padding-left: 20px;
        padding-right: 20px;
      }

      .bd-t-s {
        border-top: 1px solid;
      }
      .bd-r-s {
        border-right: 1px solid;
      }
      .bd-b-s {
        border-bottom: 1px solid;
      }
      .bd-l-s {
        border-left: 1px solid;
      }
      .bd-t-sb {
        border-top: 2px solid;
      }
      .bd-r-sb {
        border-right: 2px solid;
      }
      .bd-b-sb {
        border-bottom: 2px solid;
      }
      .bd-l-sb {
        border-left: 2px solid;
      }
      .bd-t-dt {
        border-top: 1px dotted;
      }
      .bd-r-dt {
        border-right: 1px dotted;
      }
      .bd-b-dt {
        border-bottom: 1px dotted;
      }
      .bd-l-dt {
        border-left: 1px dotted;
      }
      .bd-t-db {
        border-top: 4px double;
      }
      .left {
        text-align: left;
      }
      .center {
        text-align: center;
      }
      .right {
        text-align: right;
      }
      a#printBtn {
        position: fixed;
        bottom: 5rem;
        right: 5rem;
        background-color: #f8f9fa;
        padding: 0.5rem 1rem;
        border-radius: 1rem;
        width: 4rem;
        height: 4rem;
        text-align: center;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        opacity: .8;
        display: flex;
        color: orange;
        /* fill: #42AFE3; */
        /* stroke: #ccc; */
      }
      a#printBtn:hover {
        opacity: .6;
      }
    </style>
    <noscript>
      <%- JSON.stringify(conf) %>
    </noscript>
  </head>
  <body size="A3" layout="portrait" style="padding: 0px; box-sizing: border-box">
    <section id="render-area" style="padding-top: 48px; padding-left:55px">
      <script>
        window.dateStr = '<%= yaml.date %>';
      </script>
      <table border-collapse="collapse" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:0">
        <thead>
          <tr style="height: 0px">
            <th style="width:91px"></th>
            <th style="width:60px"></th>
            <th style="width:200px"></th>
            <th style="width:91px"></th>
            <th style="width:91px"></th>
            <th style="width:43mm"></th>
            <th style="width:78px"></th>
            <th style="width:91px"></th>
            <th style="width:60px"></th>
            <th style="width:550px"></th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="left" style="font-size:2.4rem; letter-spacing: 2.2rem; font-weight: bold;" colspan="2">履歴書</td>
            <td class="right" colspan="3">
              <%= yaml.date %> 現在
            </td >
            <% if (yaml.photo) { %>
              <td class="center image" rowspan="5" style="padding: 0 2px 10px 12px;">
                <img style="width: 100%; box-sizing: border-box;" src="<%= yaml.photo %>" alt="写真" />
              </td>
            <% } else { %>
              <td class="center image" rowspan="5" style="padding: 0 15px 20px 25px;">
                <div style="width: 100%; height: 100%; box-sizing: border-box; border: 1px dotted; padding: 10px 10px; font-size: 1.2rem;">
                  <p>写真を貼る位置</p>
                  <ol style="padding-inline-start: 20px; font-size: 1rem;">
                    <li>縦36〜40 mm<br/>横24〜30 mm</li>
                    <li>本人単身胸以上</li>
                    <li>裏面にのりづけ</li>
                    <li>裏面に氏名記入</li>
                  </ol>
                </div>
              </td>
            <% } %>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td class="bd-t-s bd-l-s ">
            <% if (conf.kanaType.toLowerCase() === 'hiragana') { %>
              ふりがな
            <% } else { %>
              フリガナ
            <% } %>
            </td>
            <td class="bd-t-s bd-r-s" colspan="4">
              <%= yaml.name_kana %>
            </td>
            <td></td>
            <td class="bd-t-s bd-l-s center">年</td>
            <td class="bd-t-s bd-l-dt center">月</td>
            <td class="bd-t-s bd-r-s bd-l-dt center">学歴・職歴</td>
          </tr>
          <tr>
            <td class="bd-t-dt bd-l-s" rowspan="2">氏 名</td>
            <td class="bd-t-dt name" colspan="3" rowspan="2"><%= yaml.name %></td>
            <% if (yaml.gender || yaml.sex) { %>
              <td class="bd-t-dt bd-l-dt bd-r-s center" rowspan="2">
                <%= yaml.gender || yaml.sex %>
              </td>
            <% } else { %>
              <td class="bd-t-dt bd-r-s center" rowspan="2"></td>
            <% } %>
            <td></td>
            <td class="bd-t-s bd-l-s center"><%= eduExp[15].year %></td>
            <td class="bd-t-s bd-l-dt center"><%= eduExp[15].month %></td>
            <td class="bd-t-s bd-r-s bd-l-dt history <%= eduExp[15].align%>"><%= eduExp[15].value %></td>
          </tr>
          <tr>
            <td></td>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[16].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[16].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[16].align%>"><%= eduExp[16].value %></td>
          </tr>
          <tr>
            <td class="bd-t-s bd-l-s">生年月日</td>
            <td class="bd-t-s bd-r-s" colspan="4">
              <%= yaml.birthday %>
              <% if (yaml.age) { %>
                （満<%= yaml.age %>歳）
              <% } %>
            </td>
            <td></td>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[17].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[17].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[17].align%>"><%= eduExp[17].value %></td>
          </tr>
          <tr>
            <td class="bd-t-s bd-l-s">携帯電話</td>
            <td class="bd-t-s" colspan="2">
              <%= yaml.mobile || yaml.cell_phone %>
            </td>
            <td class="bd-t-s bd-l-s">E-mail</td>
            <td class="bd-t-s bd-r-s" colspan="2">
              <%= yaml.email || yaml.mail %>
            </td>
            <td></td>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[18].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[18].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[18].align%>"><%= eduExp[18].value %></td>
          </tr>
          <tr>
            <td class="bd-t-s bd-l-s">
              <% if (conf.kanaType.toLowerCase() === 'hiragana') { %>
                ふりがな
              <% } else { %>
                フリガナ
              <% } %>
            </td>
            <td class="bd-t-s bd-r-s" colspan="5">
              <%= yaml.address_kana %>
            </td>
            <td></td>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[19].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[19].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[19].align%>"><%= eduExp[19].value %></td>
          </tr>
          <tr>
            <td class="bd-t-s bd-l-s">現 住 所</td>
            <td class="bd-t-s " colspan="4">〒 <%= yaml.address_zip %></td>
            <td class="bd-t-s bd-l-s bd-r-s" >電話</td>
            <td></td>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[20].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[20].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[20].align%>"><%= eduExp[20].value %></td>
          </tr>
          <tr>
            <td class="bd-l-s" style="padding-left: 25px; font-size: 1.9rem;" colspan="5" rowspan="2">
              <%= yaml.address %>
            </td>
            <td class="bd-l-s bd-r-s" style="padding-left: 15px;" rowspan="2">
              <%= yaml.tel %>
            </td>
            <td></td>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[21].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[21].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[21].align%>"><%= eduExp[21].value %></td>
          </tr>
          <tr>
            <td></td>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[22].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[22].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[22].align%>"><%= eduExp[22].value %></td>
          </tr>
          <tr>
            <td class="bd-t-s bd-l-s">
              <% if (conf.kanaType.toLowerCase() === 'hiragana') { %>
                ふりがな
              <% } else { %>
                フリガナ
              <% } %>
            </td>
            <td class="bd-t-s bd-r-s" colspan="5">
              <%= yaml.address2_kana %>
            </td>
            <td></td>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[23].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[23].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[23].align%>"><%= eduExp[23].value %></td>
          </tr>
          <tr>
            <td class="bd-t-s bd-l-s">連 絡 先</td>
            <td class="bd-t-s " colspan="4">〒 <%= yaml.address2_zip %></td>
            <td class="bd-t-s bd-l-s bd-r-s">電話</td>
            <td></td>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[24].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[24].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[24].align%>"><%= eduExp[24].value %></td>
          </tr>
          <tr>
            <td class="bd-l-s bd-b-s" style="padding-left: 25px; font-size: 1.9rem;" colspan="5" rowspan="2">
              <%= yaml.address2 %>
            </td>
            <td class="bd-l-s bd-b-s bd-r-s" style="padding-left: 15px;" rowspan="2">
              <%= yaml.tel2 %>
            </td>
            <td></td>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[25].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[25].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[25].align%>"><%= eduExp[25].value %></td>
          </tr>
          <tr>
            <td></td>
            <td class="bd-t-dt bd-l-s bd-b-s center"><%= eduExp[26].year %></td>
            <td class="bd-t-dt bd-l-dt bd-b-s center"><%= eduExp[26].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt bd-b-s history <%= eduExp[26].align%>"><%= eduExp[26].value %></td>
          </tr>
          <tr style="height: 10px;">
            <td colspan="6"></td>
            <td></td>
            <td colspan="3"></td>
          </tr>
          <tr>
            <td class="bd-t-s bd-l-s center">年</td>
            <td class="bd-t-s bd-l-dt center">月</td>
            <td class="bd-t-s bd-r-s bd-l-dt center" colspan="4">学歴・職歴</td>
            <td></td>
            <td class="bd-t-s bd-l-s center">年</td>
            <td class="bd-t-s bd-l-dt center">月</td>
            <td class="bd-t-s bd-r-s bd-l-dt center">免許・資格</td>
          </tr>
          <tr>
            <td class="bd-t-s bd-l-s center"><%= eduExp[0].year %></td>
            <td class="bd-t-s bd-l-dt center"><%= eduExp[0].month %></td>
            <td class="bd-t-s bd-r-s bd-l-dt history <%= eduExp[0].align%>" colspan="4" ><%= eduExp[0].value %></td>
            <td></td>
            <td class="bd-t-s bd-l-s center"><%= lics[0].year %></td>
            <td class="bd-t-s bd-l-dt center"><%= lics[0].month %></td>
            <td class="bd-t-s bd-r-s bd-l-dt history <%= lics[0].align%>"><%= lics[0].value %></td>
          </tr>
          <tr>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[1].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[1].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[1].align%>" colspan="4" ><%= eduExp[1].value %></td>
            <td></td>
            <td class="bd-t-dt bd-l-s center"><%= lics[1].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= lics[1].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= lics[1].align%>"><%= lics[1].value %></td>
          </tr>
          <tr>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[2].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[2].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[2].align%>" colspan="4" ><%= eduExp[2].value %></td>
            <td></td>
            <td class="bd-t-dt bd-l-s center"><%= lics[2].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= lics[2].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= lics[2].align%>"><%= lics[2].value %></td>
          </tr>
          <tr>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[3].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[3].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[3].align%>" colspan="4" ><%= eduExp[3].value %></td>
            <td></td>
            <td class="bd-t-dt bd-l-s center"><%= lics[3].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= lics[3].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= lics[3].align%>"><%= lics[3].value %></td>

          </tr>
          <tr>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[4].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[4].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[4].align%>" colspan="4" ><%= eduExp[4].value %></td>
            <td></td>
            <td class="bd-t-dt bd-l-s center"><%= lics[4].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= lics[4].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= lics[4].align%>"><%= lics[4].value %></td>
          </tr>
          <tr>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[5].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[5].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[5].align%>" colspan="4" ><%= eduExp[5].value %></td>
            <td></td>
            <td class="bd-t-dt bd-l-s center"><%= lics[5].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= lics[5].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= lics[5].align%>"><%= lics[5].value %></td>
          </tr>
          <tr>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[6].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[6].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[6].align%>" colspan="4" ><%= eduExp[6].value %></td>
            <td></td>
            <td class="bd-t-s bd-r-s bd-l-s" colspan="3">志望動機・自己PR</td>
          </tr>
          <tr>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[7].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[7].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[7].align%>" colspan="4" ><%= eduExp[7].value %></td>
            <td></td>
            <td class="bd-t-s bd-r-s bd-l-s" colspan="3" rowspan="4" style="padding: 0 15px;">
              <%- yaml.motivation %>
            </td>
          </tr>
          <tr>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[8].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[8].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[8].align%>" colspan="4" ><%= eduExp[8].value %></td>
            <td></td>
          </tr>
          <tr>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[9].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[9].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[9].align%>" colspan="4" ><%= eduExp[9].value %></td>
            <td></td>
          </tr>
          <tr>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[10].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[10].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[10].align%>" colspan="4" ><%= eduExp[10].value %></td>
            <td></td>
          </tr>
          <tr>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[11].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[11].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[11].align%>" colspan="4" ><%= eduExp[11].value %></td>
            <td></td>
            <td class="bd-t-s bd-r-s bd-l-s" colspan="3">本人希望記入欄</td>
          </tr>
          <tr>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[12].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[12].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[12].align%>" colspan="4" ><%= eduExp[12].value %></td>
            <td></td>
            <td class="bd-t-s bd-r-s bd-b-s bd-l-s" style="padding: 0 15px;" colspan="3" rowspan="3">
              <%- yaml.request %>
            </td>
          </tr>
          <tr>
            <td class="bd-t-dt bd-l-s center"><%= eduExp[13].year %></td>
            <td class="bd-t-dt bd-l-dt center"><%= eduExp[13].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt history <%= eduExp[13].align%>" colspan="4" ><%= eduExp[13].value %></td>
            <td></td>
          </tr>
          <tr>
            <td class="bd-t-dt bd-l-s  bd-b-s center"><%= eduExp[14].year %></td>
            <td class="bd-t-dt bd-l-dt  bd-b-s center"><%= eduExp[14].month %></td>
            <td class="bd-t-dt bd-r-s bd-l-dt bd-b-s history <%= eduExp[14].align%>" colspan="4" ><%= eduExp[14].value %></td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </section>
    <a id="printBtn" href="javascript:void(0)" style="pointer-events: none">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor">
        <!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
        <path d="M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 144-208 0c-35.3 0-64 28.7-64 64l0 144-48 0c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zM176 352l32 0c30.9 0 56 25.1 56 56s-25.1 56-56 56l-16 0 0 32c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48 0-80c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0 48 16 0zm96-80l32 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-32 0c-8.8 0-16-7.2-16-16l0-128c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-16 0 0 96 16 0zm80-112c0-8.8 7.2-16 16-16l48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 32 32 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-64 0-64z"/>
      </svg>
    </a>
    <script>
      function addTimeStr(name = '履歴書') {
        if (window.dateStr) { name += `-${window.dateStr}` }
        return `${name}.pdf`;
      }

      function print(filename = '') {
        document.body.scrollTo({ top: 0, left: 0, behavior: 'instant' });
        const opt = {
          image: { type: 'jpeg', quality: 0.99 },
          html2canvas: { scale: 2.4, useCORS: true },
          jsPDF: { orientation: 'landscape', format: 'a3' }
        };
        const target = document.querySelector('#render-area');

        return new Promise((resolve, reject) => {
          setTimeout(() => {
            html2pdf().set(opt).from(target).toPdf().get('pdf').then(pdf => {
              const pdfUrl = pdf.output('bloburl');
              if (filename) {
                const a = document.createElement('a');
                a.href = pdfUrl; a.download = filename;
                a.style.display = 'none';
                document.body.appendChild(a); a.click();
              }

              resolve(pdfUrl);
            });
          }, 100);
        });
      }

      document.addEventListener('DOMContentLoaded', () => {
        console.log('DOM fully loaded and parsed');
        window.parent.postMessage({ eventName: 'DOMContentLoaded' }, '*');

        const printBtn = document.querySelector('#printBtn');
        printBtn.style.pointerEvents = 'auto';
        printBtn.addEventListener('click', () => {
          printBtn.style.pointerEvents = 'none';
          print(addTimeStr('履歴書')).then(pdfUrl => {
            printBtn.style.display = 'block';
            printBtn.style.pointerEvents = 'auto';
          });

          // print().then(pdfUrl => {
          //   location.href = pdfUrl;
          //   printBtn.style.pointerEvents = 'auto';
          // });
        });

        window.addEventListener('message', (e) => {
          if (e.data.eventName === 'print') {
            print().then(pdfUrl => {
              window.parent.postMessage({
                eventName: 'pdfUrl', pdfUrl, fileName: addTimeStr('履歴書'),
              }, '*');
            });
          }
        });
      });

      document.addEventListener('load', () => {
        console.log('load event fired');
        window.parent.postMessage({ eventName: 'load' }, '*');
      });



      // let opt = {
      //   image: { type: 'jpeg', quality: 0.99 },
      //   html2canvas: { scale: 2.4, x: 0, y: 0, useCORS: true },
      //   jsPDF: { orientation: 'landscape', format: 'a3' }
      // };

      // document.addEventListener('DOMContentLoaded', w() => {
      //   console.log('DOM fully loaded and parsed');
      //   document.body.scrollTo({
      //     top: 0,
      //     left: 0,
      //     behavior: "instant",
      //   });

      //   setTimeout(() => {
      //   html2pdf().set(opt).from(document.querySelector('#render-area')).toPdf().get('pdf').then(pdf => {
      //     // window.open(pdf.output('bloburl'), '_self');
      //     // window.open(pdf.output('bloburl'), '_blank');
      //     // location.href = pdf.output('bloburl');

      //     let pdfUrl = pdf.output('bloburl');
      //     const a = document.createElement('a');
      //     a.href = pdfUrl;
      //     a.download = '履歴書.pdf';
      //     a.id = 'pdfUrl';
      //     a.style.display = 'none';
      //     document.body.appendChild(a);
      //     window.parent.postMessage({ pdfUrl }, '*');
      //     // window['pdfUrl'] = pdf.output('bloburl');
      //   });
      //   }, 200);
      // });
    </script>
  </body>
</html>
